<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title>자스 버블링 + 캡쳐링 응용(장바구니)</title>
</head>

<body>
	전체선택 : <input type="checkbox" id="all" onclick="abc(this.checked)" onchange="ccc()"><br>
	포도 : 5000원<input type="checkbox" id="c1" onclick="bbb()" onchange="ccc()"  value="5000"><br>
	사과 : 1000원 <input type="checkbox" id="c2" onclick="bbb()" onchange="ccc()"  value="1000"><br>
	멜론 : 8000원<input type="checkbox" id="c3" onclick="bbb()" onchange="ccc()"  value="8000"><br>
	체리: 1200원 <input type="checkbox" id="c4" onclick="bbb()" onchange="ccc()"  value="1200"><br>
	총 금액 : <div id="total"></div>
</body>
<script>
	function abc(a) {
		var w = 1;
		while (w <= 4) {
			document.getElementById("c" + w).checked = a;
			w++
		}
	}
	function bbb() {
		var aa = document.getElementById("all") //전체 선택 오브젝트
		var w = 1;
		var check = true; // 체크유무 핸들링
		do { //해당 아이디별로 체크가 해제되었을 경우
			if (document.getElementById("c" + w).checked == false) {
				check = false;
			}
			w++
		} while (w <= 4)
		if (check == false) { // 하나라도 체크가 안되었을 경우 전체 체크 해제
			aa.checked = false;
		} else { //모두 체크 되었을 경우 전체선택 활성화
			aa.checked = true
		}
	}
	function ccc(z) {
		var bln = true;
		var x = 1;
		var total = document.getElementById("total")
		var sum = 0;
		while (x <= 4) {
			if (document.getElementById("c" + x).checked == bln) {
				sum += Number(document.getElementById("c"+x).value)
			}
			x++
		}
		total.innerText = sum + "원"
	}
</script>

</html>